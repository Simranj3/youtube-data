<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
          <link rel="stylesheet" href="styles.css">
        <link href="https://fonts.googleapis.com/css?family=Montserrat|Patua+One|Roboto|Vollkorn" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,700|Vollkorn:400,600,700" rel="stylesheet">

        <title> Youtube Data Analysis </title>
        <img src="tings2.png" width="100%">
        <!--<h1 id="header" style="width:1000px"> What's Trending? </h1>-->
        <p class="authors"> By: <a href="https://github.com/SamEBae" class="links" target="_blank"> Sammie Bae </a>and <a href="https://github.com/Simranj3" class="links" target="_blank"> Simran Jassal</a></p>
        
        <p class="byline"> An indepth analysis of trending videos from Youtube across countries such as Canada, America, France, Germany and Great Britain. This data is taken from <a href="https://www.kaggle.com/datasnaek/youtube-new" target="_blank" class="links">Kaggle </a>, which was scraped from the Youtube API. </p>
        
        <br> 
        <br> 

        
        <p class="content-para"> There are a lot of ways we tend to entertain ourselves. On one end, we might purchase tickets to an immersive experience like Disneyland or other themeparks, and on the other end, we spend hours and hours scrolling through our algorithmic feeds. Youtube has given rise to another form of media that could bridge the two. It's a platform that offers videos that was shroter and more gimiky to videos of higher quality and production value. </p>
        
        <p class="content-para"> With the help of data visualization, we are able to take a quick peak at some of the trends around trending Youtube videos.</p>
    </head>
    <body>
        
        <br> 
        <br> 
        <br> 
        <section id="button-chart"> 
            
        <h1 class="section-header"> Trends by Country </h1>
            
        <p class="content-para"> Let's start by sorting the data by country. The dataset provided a location tag for each Youtube video (i.e: the video went viral in Canada). It should be noted that some datapoints may overlap (some videos were trending in more than one country). </p>
            
        <p class="content-para"> In this chart, we took all of the trending videos on Youtube and sorted them by the category they were listed under and the country they were trending in. The totals represent the number of videos that were trending in each of the categories. </p>
            <div id="change-buttons"> 
                <button onClick="showGraphTwo('ca-catts.json')"> Canada </button>
                <button onClick="showGraphTwo('us-catts.json')"> USA </button>
                <button onClick="showGraphTwo('fr-catts.json')"> France </button>
                <button onClick="showGraphTwo('de-catts.json')"> Germany </button>
                <button onClick="showGraphTwo('gb-catts.json')"> UK </button>
            </div>
            
            <div id="horizontal-bar-chart"  class="main-chart"> </div>
            
            <p class="content-para"> There are a few interesting insights here: </p>
        </section>
        
        <section id="stacked-chart" class="main-chart"> 
            <h1 class="section-header"> USA Trending Views by Channel </h1>
        </section>
        
        <section id="scatter-chart" class="main-chart"> 
            <h1 class="section-header"> Scatter Plot Tings </h1>
            <p class="content-para"> For the following analysis, we decided to focus only on the videos trending in the USA. Let's start with how you should read the following graph: </p>
            

            
            
            
<!-- SCOLL --> 

    <head>
        <script src="http://d3js.org/d3.v4.min.js"></script>
        <script src='https://unpkg.com/intersection-observer@0.5.0/intersection-observer.js'></script>
        <script src='https://unpkg.com/scrollama'></script>
    </head>

	<section id='scroll'>
		<div class='scroll__graphic'>
			<!--<div class='chart'>
				<p>0</p>
			</div>-->
		</div>
		<div class='scroll__text'>
			<div class='step' data-step='1'>
				<p>STEP 1 and here is some more info</p>
                
               <svg class="graph">
  <g class="grid x-grid">
    <line x1="90" x2="90" y1="5" y2="371"></line>
  </g>
  <g class="grid y-grid">
    <line x1="90" x2="705" y1="370" y2="370"></line>
  </g>
</svg>
			</div>
			<div class='step' data-step='2'>
				<p>STEP 2</p>
                
                    <svg version="1.1" id="line_2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1200px" height="400px" xml:space="preserve">
                        <path class="data-2" fill="#01a09e" stroke-width="3" stroke="#01a09e" d="M1 0 L1 250" opacity="0"/>
                        <path class="data-2" fill="#01a09e" stroke-width="3" stroke="#01a09e" d="M0 0 l250 0" transform="translate(0,250)" opacity="0"/>
                    </svg>

			</div>
			<div class='step' data-step='3'>
				<p>STEP 3</p>
                
                <svg version="1.1" id="line_2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1200px" height="400px" xml:space="preserve">
                    <path fill="#01a09e" stroke-width="3" stroke="#01a09e" d="M1 0 L1 250"/>
                    <path fill="#01a09e" stroke-width="3" stroke="#01a09e" d="M0 0 l250 0" transform="translate(0,250)"/>
                    <rect class="data-3" width="100" height="100" style="fill:rgb(0,0,255);stroke-width:3;stroke:rgb(0,0,0);" transform="translate(15,15)" opacity="0"/>
                    <rect class="data-3" width="100" height="100" style="fill:rgb(0,0,255);stroke-width:3;stroke:rgb(0,0,0);" transform="translate(140,140)" opacity="0"/>
                </svg>

			</div>
			<div class='step' data-step='4'>
				<p>STEP 4</p>
                
                <svg version="1.1" id="line_2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1200px" height="400px" xml:space="preserve">
                    <path fill="#01a09e" stroke-width="3" stroke="#01a09e" d="M1 0 L1 250"/>
                    <path fill="#01a09e" stroke-width="3" stroke="#01a09e" d="M0 0 l250 0" transform="translate(0,250)"/>
                    <rect class="data-4" width="100" height="100" style="fill:rgb(0,0,255);stroke-width:3;stroke:rgb(0,0,0)" transform="translate(15,140)" opacity="0"/>
                    <rect class="data-4" width="100" height="100" style="fill:rgb(0,0,255);stroke-width:3;stroke:rgb(0,0,0)" transform="translate(140,15)" opacity="0"/>
                </svg>
                
			</div>
		</div>
	</section>
	<!--<section id='outro'></section>--> 
	<div class='debug'></div>
	<!-- <script src='../d3.v4.min.js'></script> -->
	<script src='https://unpkg.com/intersection-observer@0.5.0/intersection-observer.js'></script>
	<!-- <script src='../scrollama.min.js'></script> -->
	<script>
		// using d3 for convenience
		var container = d3.select('#scroll');
		var graphic = container.select('.scroll__graphic');
		var chart = graphic.select('.chart');
		var text = container.select('.scroll__text');
		var step = text.selectAll('.step');
		// initialize the scrollama
		var scroller = scrollama();
		// generic window resize listener event
		function handleResize() {
			// 1. update height of step elements
			var stepHeight = Math.floor(window.innerHeight * 0.75);
			step.style('height', stepHeight + 'px');
			// 2. update width/height of graphic element
			var bodyWidth = d3.select('body').node().offsetWidth;
			graphic
				.style('width', bodyWidth + 'px')
				.style('height', window.innerHeight + 'px');
			var chartMargin = 32;
			var textWidth = text.node().offsetWidth;
			var chartWidth = graphic.node().offsetWidth - textWidth - chartMargin;
			chart
				.style('width', chartWidth + 'px')
				.style('height', Math.floor(window.innerHeight / 2) + 'px');
			// 3. tell scrollama to update new element dimensions
			scroller.resize();
		}
		// scrollama event handlers
        var stepEnterCount = 0;
        
		function handleStepEnter(response) {
			// response = { element, direction, index }
			// add color to current step only
			step.classed('is-active', function (d, i) {
				return i === response.index;
			})
			// update graphic based on step
            
            stepEnterCount ++;
            //if (stepEnterCount == 4) {
                if (response.index == 1) {
                    var paths = $('.data-2');
                    $(paths[0]).attr("class", "path3");
                    $(paths[1]).attr("class", "path2");
                } else if (response.index == 2) {
                    var rects = $('.data-3');
                    $(rects[0]).attr("class", "fade-in");
                    $(rects[1]).attr("class","fade-in");
                } else if (response.index == 3) {
                    var rects = $('.data-4');
                    $(rects[0]).attr("class", "fade-in");
                    $(rects[1]).attr("class","fade-in");
                }
                stepEnterCount = 0;
            //}
            
			chart.select('p').text(response.index + 1);
		}
		function handleContainerEnter(response) {
			// response = { direction }
			// sticky the graphic (old school)
			graphic.classed('is-fixed', true);
			graphic.classed('is-bottom', false);
		}
		function handleContainerExit(response) {
			// response = { direction }
			// un-sticky the graphic, and pin to top/bottom of container
			graphic.classed('is-fixed', false);
			graphic.classed('is-bottom', response.direction === 'down');
		}
		function init() {
			// 1. force a resize on load to ensure proper dimensions are sent to scrollama
			handleResize();
			// 2. setup the scroller passing options
			// this will also initialize trigger observations
			// 3. bind scrollama event handlers (this can be chained like below)
			scroller.setup({
				container: '#scroll',
				graphic: '.scroll__graphic',
				text: '.scroll__text',
				step: '.scroll__text .step',
				debug: true,
			})
				.onStepEnter(handleStepEnter)
				.onContainerEnter(handleContainerEnter)
				.onContainerExit(handleContainerExit);
			// setup resize event
			window.addEventListener('resize', handleResize);
		}
		// kick things off
		init();
	</script>


<!-- END SCROLL --> 
            
            
            <div id="scatter-buttons"> 
                <button onClick="scatterplot('us_scatter.csv', 'Autos & Vehicles')"> Autos & Vehicles </button>
                <button onClick="scatterplot('us_scatter.csv', 'Comedy')"> Comedy </button>
                <button onClick="scatterplot('us_scatter.csv', 'Education')"> Education </button>
                <button onClick="scatterplot('us_scatter.csv', 'Film & Animation')"> Film & Animation </button>
                <button onClick="scatterplot('us_scatter.csv', 'Gaming')"> Gaming </button>
                <button onClick="scatterplot('us_scatter.csv', 'Howto & Style')"> Howto & Style </button>
                <button onClick="scatterplot('us_scatter.csv', 'Music')"> Music </button>
                <button onClick="scatterplot('us_scatter.csv', 'News & Politics')"> News & Politics </button>
                <button onClick="scatterplot('us_scatter.csv', 'Nonprofits & Activism')"> Nonprofits & Activism </button>
                <button onClick="scatterplot('us_scatter.csv', 'People & Blogs')"> People & Blogs </button>
                <button onClick="scatterplot('us_scatter.csv', 'Pets & Animals')"> Pets & Animals </button>
                <button onClick="scatterplot('us_scatter.csv', 'Science & Technology')"> Science & Technology </button>
                <button onClick="scatterplot('us_scatter.csv', 'Shows')"> Shows </button>
                <button onClick="scatterplot('us_scatter.csv', 'Sports')"> Sports </button>
                <button onClick="scatterplot('us_scatter.csv', 'Travel & Events')"> Travel & Events </button>
            </div>





        </section>
        <div id="tool-tip-scatter" style="position;absolute;"></div> 
        <script src="http://d3js.org/d3.v4.min.js"></script>
        <script src='https://unpkg.com/intersection-observer@0.5.0/intersection-observer.js'></script>
        <script src='https://unpkg.com/scrollama'></script>
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
        <!--<script type="text/javascript" src="main.js"></script>--> 
        <script type="text/javascript" src="main2.js"></script>

    </body>
</html>